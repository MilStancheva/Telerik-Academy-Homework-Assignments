#Mediator Design Pattern#

##Мотивация
Шаблонът за дизайн медиатор енкапсулира връзката между сет от обекти. Също така енкапсулира протоколът между тези обекти. Медиаторът помага да постигнем loosely coupled обекти, като ги държи на разстояние един от друг. 
С цел да постигнем добър обектно ориентиран дизайн, ние създаваме много класове, които комуникират помежду си. 
В случай, че не използваме принипите на ООП финалният резултат би бил пълна каша, в която всеки обект е зависим от много други обекти, за да работи. 
С цел да избегнем тесни зависимости, се нуждаем от механизъм, за да управляваме връзките между обектите, по начин, по който обектите не са наясно за съществуването на други обекти. 

##Цел
Да определи обект, който енкапсулира взаимовръзките между сет от обекти. Медиаторът ни помага да постигнем loose coupling, като държи обектите настрана един от друг и фалсилитира взаимовръзките им.

##Имплементация 
Участниците в шаблонът за дизайн медиатор са:
- Mediator/ медиатор - определя интерфейс за комуникация с обектите;
- ConcreteMediator/ конкретен клас медиатор - знае за обектите, които си комуникират и държи референция към тях;
    - Имплементира комуникацията и трансферира съобщенята между обектите колеги. 
- Colleague classes/ класове колеги - държат референция към обектът Медиатор.
    - Комуникират чрез медиатора. В противен случай трябва да комуникират с всеки един от тях.  

##Приложение и примери 
Медиатор се използва при следните сучаи: 

- Поведение, което е общо между няколко обекта, може да се групира.
- Преизползването на обектите става трудно, тъй като те комуникират един с друг. 
- Обектите в системата комуникират по определен, но сложен начин. 

Пример 1 - GUI библиотеки 
Добър пример за Медиатор е Dialog класовете в GUI приложения. Dialog прозорецът е колекция от графични и неграфични контроли. Класът Dialog осигурява механизъм, с който фасилитира взаимовръзките между контролите. Например, когато нова стойност е избрана от ComboBox обект, Label трябва да покаже новата стойност. ComboBox обектът и Label обектът не са запознати един с друг и не знаят за съществуването си, като цялата комуникация се извършва през Медиатора - обекта Dialog. Нто една контрола не знае за съществуването на останалите. 
Пример 2 - чат Приложение
В едно чат приложение може да имаме няколко участника. Не е добра идея да свързваме всеки един с всички останали, тъй като броят на връзките ще нарастне значително. Като последствие, ще възникнат технически проблеми, поради proxies и firewalls и т.н. Най-подходящото решение е да направим център, през който обектите да се свързват един с друг. Този център ще е класът медиатор. 

Участниц:
- Chatroom/ чат рум(Mediator/ медиатор) - определя интерфейса за комуникация с участниците. 
- ChatroomImpl (ConcreteMediator/ конкретен медиатор клас) - имплементира операциите, определени от интерфейса чатрум (Chatroom). Операциите управляват взаимовръзките между обектите: когато един участник изпрати съобщение, съобщението се изпраща на другите участници. 
- Participant(Collegue/ колега/ участник) - определя интерфейс за участниците. 
- HumanParticipant, Bot (ConcreteCollegue/ конкретен участник/колега) - имплементира участниците обекти; Всеки един от тях имплементира Participant интерфейса. Всеки участник дрържи референция към класа медиатор. 

##Специфики 
Както повечето дизайн патърни и Медиатор има своите предимства и недостатъци. 
- Предимства: 
Медиаторът енкапсулира логиката между обектите колеги. По-лесно се рабира и по-достъпна самата логика, когато се намира само в един клас. 
Decoupled Colleagues - обектите колеги са тотално разкачени. Добавянето на нов колега е много лесно, поради сравнителната независимост на обектите един от друг. 
Simplified object protocols - Обектите колеги комуникират само с един медиатор обект. Практически, този обект намалява необходимите канали за комуникация (протоколи) от много-към-много до един-към-много и много-към-един.
Limits Subclassing - Тъй като цялата логика е енкапсулрана в един обект - медиатор класа - когато е необходимо тази логика да се екстендне, е необходимо да се екстендне само медиатор класа. 

- Недостатъци: 
Complexity/ сложност - практиката показва,че класовете медиатори имат склоността да се усложняват значително. Добра практика е да се следи медиаторът да отговаря само и единствено за комуникацията между обектите. 


#####Източници: 
 * http://www.oodesign.com/mediator-pattern.html
 * http://www.codeproject.com/Articles/667702/Mediator-Pattern
 * https://visualstudiomagazine.com/articles/2014/12/11/mediator-pattern-net-framework.aspx